<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Color Match | Joyfy</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        .grid { display: grid; grid-template-columns: repeat(3, 80px); gap: 10px; margin: 20px auto; justify-content: center; }
        .tile { width: 80px; height: 80px; border-radius: 12px; cursor: pointer; transition: background 0.3s; border: 2px solid rgba(255,255,255,0.1); }
        .color-0 { background: var(--primary); }
        .color-1 { background: var(--secondary); }
        .color-2 { background: #33ffaa; }
    </style>
</head>
<body>
    <header><a href="index.html" class="logo"><span>JOYFY</span></a></header>
    <div class="game-box" style="max-width:500px; margin: 40px auto; text-align:center;">
        <h1>Color Match</h1>
        <p>Click the tiles to match the target!</p>
        <div id="target" style="margin: 10px auto; width: 40px; height: 40px; border-radius: 8px;" class="color-2"></div>
        <div class="grid" id="grid"></div>
        <button id="heroBtn" onclick="initGame()" style="margin-top: 20px;">New Level</button>
    </div>

    <script>
        const colors = ['color-0', 'color-1', 'color-2'];
        let targetColorIndex = 2;

        function initGame() {
            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            targetColorIndex = Math.floor(Math.random() * 3);
            document.getElementById('target').className = 'tile ' + colors[targetColorIndex];
            
            for (let i = 0; i < 9; i++) {
                const tile = document.createElement('div');
                let tileColor = Math.floor(Math.random() * 3);
                tile.className = 'tile ' + colors[tileColor];
                tile.onclick = function() {
                    tileColor = (tileColor + 1) % 3;
                    tile.className = 'tile ' + colors[tileColor];
                    checkWin();
                };
                grid.appendChild(tile);
            }
        }

        function checkWin() {
            const tiles = document.querySelectorAll('.tile');
            let allMatch = true;
            tiles.forEach(t => {
                if (!t.classList.contains(colors[targetColorIndex])) allMatch = false;
            });
            if (allMatch) {
                alert("Puzzle Solved! Level Up!");
                initGame();
            }
        }
        initGame();
    </script>
</body>
</html>